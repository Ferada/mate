@prefix :        <http://www.imis.uni-luebeck.de/mate#> .
@prefix rdfs:    <http://www.w3.org/2000/01/rdf-schema#> .
@prefix foaf:    <http://xmlns.com/foaf/0.1/> .
@prefix owl:     <http://www.w3.org/2002/07/owl#> .
@prefix xsd:     <http://www.w3.org/2001/XMLSchema#> .
@prefix rdf:     <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix mate:    <http://www.imis.uni-luebeck.de/mate#> .

:AvailabilityResult
      a       owl:Class ;
      rdfs:label "Verfügbarkeitsresultat"@de , "Availability Result"@en ;
      :primaryKey :AvailabilityKey .

:Person
      a       owl:Class ;
      rdfs:label "Person" ;
      owl:equivalentClass foaf:Person .

:AvailabilityResultMod
      a       owl:Class ;
      rdfs:label "Availability Result (modified)"@en , "Verfügbarkeitsresultat (modifiziert)"@de ;
      :primaryKey :AvailabilityModKey .

<http://www.imis.uni-luebeck.de/mate>
      a       owl:Ontology ;
      rdfs:label "MATe Ontologie"@de , "MATe Ontology"@en ;
      owl:imports foaf: .

:primaryKey
      a       owl:AnnotationProperty ;
      rdfs:comment """Definiert einen Primärschlüssel der
	angegebenen Klasse.  Diese Funktion wird von der MATe
	Whiteboard-Implementierung benutzt um beispielsweise Sensordaten
	in die Datenbank zu speichern und Histories darüber anzulegen."""@de ,
                   """Defines one of the primary keys of the
	given class.  This is used by the MATe Whiteboard implementation
	for example to merge new sensor values into the database and
	create histories on them."""@en .

:AvailabilityKey
      a       :PrimaryKey ;
      rdf:first :jid ;
      rdf:rest () .

:jid
      a       owl:DatatypeProperty ;
      rdfs:domain
              [ a       owl:Class ;
                owl:unionOf (:AvailabilityResult :HistoryEntry :AvailabilityResultMod)
              ] ;
      rdfs:label "Jabber ID" ;
      rdfs:range xsd:string .

:HistoryEntry
      a       owl:Class ;
      rdfs:label "History Entry"@en , "History-Eintrag"@de .

:available
      a       owl:DatatypeProperty ;
      rdfs:domain
              [ a       owl:Class ;
                owl:unionOf (:AvailabilityResult :HistoryEntry :AvailabilityResultMod)
              ] ;
      rdfs:label "available"@en , "verfügbar"@de ;
      rdfs:range xsd:boolean .

:PrimaryKey
      a       owl:Class ;
      rdfs:label "Primary Key"@en , "Primärschlüssel"@de ;
      rdfs:subClassOf rdf:List ;
      rdfs:subClassOf
              [ a       owl:Restriction ;
                owl:allValuesFrom owl:Property ;
                owl:onProperty rdf:first
              ] .

:historyType
      a       owl:ObjectProperty ;
      rdfs:domain :HistoryEntry ;
      rdfs:label "history type"@en , "History-Typ"@de ;
      rdfs:range owl:Class .

:historyEntries
      a       owl:ObjectProperty ;
      rdfs:domain :HistoryEntry ;
      rdfs:label "History-Einträge"@de , "history entries"@en ;
      rdfs:range rdf:List .

:AvailabilityModKey
      a       :PrimaryKey ;
      rdf:first :jid ;
      rdf:rest () .

# TODO: narf, duplicating sensors stuff, should we use sameAs or some other convention?

:userJID
      a       owl:ObjectProperty ;
      rdfs:domain :SensorValue ;
      rdfs:label "Benutzer-JID"@de , "user JID"@en ;
      rdfs:comment "Jabber ID of the user this value is meant for."@en ,
                   "Jabber-ID des Benutzers für den dieser Wert bestimmt ist."@de .

:activity
      a       owl:ObjectProperty ;
      rdfs:domain :ActivityValue ;
      rdfs:range :Activity ;
      rdfs:label "activity"@en , "Aktivität"@de .

:Activity
      a       owl:Class ;
      rdfs:label "Activity"@en , "Aktivität"@de ;
      owl:oneOf (:shortBreak :longBreak :reading :writing :meeting) .

:ActivityValue
      a       owl:Class ;
      :primaryKey (:userJID) ;
      rdfs:label "Activity Value"@en , "Aktivitätswert"@de .

:interruptible
      a       owl:ObjectProperty ;
      rdfs:domain :InterruptibilityValue ;
      rdfs:range :Interruptibility ;
      rdfs:label "interruptible"@en , "unterbrechbar"@de .

:Interruptibility
      a       owl:Class ;
      owl:oneOf (:uninterruptible :interruptible :maybeInterruptible) ;
      rdfs:label "Interruptibility"@en , "Unterbrechbarkeit"@de .

:InterruptibilityValue
      a       owl:Class ;
      :primaryKey (:userJID) ;
      rdfs:label "Interruptibility Value"@en , "Unterbrechbarkeitswert"@de .

